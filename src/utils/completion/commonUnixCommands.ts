
export const COMMON_UNIX_COMMANDS = [
  'ls',
  'cd',
  'pwd',
  'mkdir',
  'rmdir',
  'rm',
  'cp',
  'mv',
  'touch',
  'cat',
  'less',
  'more',
  'head',
  'tail',
  'file',
  'stat',
  'ln',
  'readlink',
  'basename',
  'dirname',
  'find',
  'locate',
  'which',
  'whereis',
  'type',
  'tree',
  'du',
  'df',
  'mount',
  'umount',
  'chmod',
  'chown',
  'chgrp',
  'umask',
  'setfacl',
  'getfacl',
  'lsattr',
  'chattr',
  'realpath',
  'mktemp',
  'rsync',
  'scp',
  'sftp',
  'ftp',
  'wget',
  'curl',
  'tar',
  'gzip',
  'gunzip',
  'zip',
  'unzip',
  'bzip2',
  'bunzip2',
  'xz',
  'unxz',
  '7z',
  'rar',
  'unrar',
  'zcat',
  'zless',

  'grep',
  'egrep',
  'fgrep',
  'rg',
  'ag',
  'ack',
  'sed',
  'awk',
  'cut',
  'paste',
  'sort',
  'uniq',
  'wc',
  'tr',
  'col',
  'column',
  'expand',
  'unexpand',
  'fold',
  'fmt',
  'pr',
  'nl',
  'od',
  'hexdump',
  'xxd',
  'strings',
  'split',
  'csplit',
  'join',
  'comm',
  'diff',
  'sdiff',
  'vimdiff',
  'patch',
  'diffstat',
  'cmp',
  'md5sum',
  'sha1sum',
  'sha256sum',
  'sha512sum',
  'base64',
  'uuencode',
  'uudecode',
  'rev',
  'tac',
  'shuf',
  'jq',
  'yq',
  'xmllint',
  'tidy',

  'ps',
  'top',
  'htop',
  'atop',
  'iotop',
  'iftop',
  'nethogs',
  'pgrep',
  'pkill',
  'kill',
  'killall',
  'jobs',
  'bg',
  'fg',
  'nohup',
  'disown',
  'nice',
  'renice',
  'ionice',
  'taskset',
  'pstree',
  'fuser',
  'lsof',
  'strace',
  'ltrace',
  'ptrace',
  'gdb',
  'valgrind',
  'time',
  'timeout',
  'watch',
  'screen',
  'tmux',
  'byobu',
  'dtach',
  'nmon',
  'dstat',
  'vmstat',
  'iostat',
  'mpstat',

  'ping',
  'ping6',
  'traceroute',
  'tracepath',
  'mtr',
  'netstat',
  'ss',
  'ip',
  'ifconfig',
  'route',
  'arp',
  'hostname',
  'hostnamectl',
  'nslookup',
  'dig',
  'host',
  'whois',
  'nc',
  'netcat',
  'ncat',
  'socat',
  'telnet',
  'ssh',
  'ssh-keygen',
  'ssh-copy-id',
  'ssh-add',
  'ssh-agent',
  'sshd',
  'tcpdump',
  'wireshark',
  'tshark',
  'nmap',
  'masscan',
  'zmap',
  'iptables',
  'ip6tables',
  'firewall-cmd',
  'ufw',
  'fail2ban',
  'nginx',
  'apache2',
  'httpd',
  'curl',
  'wget',
  'aria2',
  'axel',
  'links',
  'lynx',
  'w3m',
  'elinks',

  'gcc',
  'g++',
  'clang',
  'clang++',
  'make',
  'cmake',
  'autoconf',
  'automake',
  'libtool',
  'pkg-config',
  'python3',
  'pip',
  'pip3',
  'pipenv',
  'poetry',
  'virtualenv',
  'pyenv',
  'node',
  'npm',
  'uv',
  'npx',
  'yarn',
  'pnpm',
  'nvm',
  'volta',
  'deno',
  'bun',
  'tsx',
  'ruby',
  'gem',
  'bundle',
  'bundler',
  'rake',
  'rbenv',
  'rvm',
  'irb',
  'pry',
  'rails',
  'java',
  'javac',
  'jar',
  'javadoc',
  'maven',
  'mvn',
  'gradle',
  'ant',
  'kotlin',
  'kotlinc',
  'go',
  'gofmt',
  'golint',
  'govet',
  'godoc',
  'rust',
  'rustc',
  'cargo',
  'rustup',
  'rustfmt',

  'git',
  'svn',
  'hg',
  'bzr',
  'cvs',
  'fossil',
  'tig',
  'gitk',
  'git-flow',
  'hub',
  'gh',
  'glab',
  'docker',
  'docker-compose',
  'podman',
  'kubectl',
  'helm',
  'minikube',
  'kind',
  'k3s',
  'vagrant',
  'terraform',
  'ansible',
  'puppet',
  'chef',
  'salt',
  'packer',
  'consul',
  'vault',
  'nomad',
  'vim',
  'vi',
  'nvim',
  'emacs',
  'nano',
  'pico',
  'ed',
  'code',
  'subl',
  'atom',

  'mysql',
  'mysqldump',
  'mysqladmin',
  'psql',
  'pg_dump',
  'pg_restore',
  'sqlite3',
  'redis-cli',
  'mongo',
  'mongodump',
  'mongorestore',
  'cqlsh',
  'influx',
  'clickhouse-client',
  'mariadb',
  'cockroach',
  'etcdctl',
  'consul',
  'vault',
  'nomad',
  'jq',
  'yq',
  'xmlstarlet',
  'csvkit',
  'miller',
  'awk',
  'sed',
  'perl',
  'lua',
  'tcl',

  'sudo',
  'su',
  'passwd',
  'useradd',
  'userdel',
  'usermod',
  'groupadd',
  'groupdel',
  'groupmod',
  'id',
  'who',
  'w',
  'last',
  'lastlog',
  'finger',
  'chfn',
  'chsh',
  'login',
  'logout',
  'exit',
  'systemctl',
  'service',
  'journalctl',
  'systemd-analyze',
  'init',
  'telinit',
  'runlevel',
  'shutdown',
  'reboot',
  'halt',
  'poweroff',
  'uptime',
  'uname',
  'hostname',
  'hostnamectl',
  'timedatectl',
  'localectl',
  'loginctl',
  'machinectl',
  'bootctl',
  'cron',
  'crontab',
  'at',
  'batch',
  'anacron',
  'systemd-run',
  'systemd-timer',
  'logrotate',
  'logger',
  'dmesg',

  'apt',
  'apt-get',
  'apt-cache',
  'dpkg',
  'dpkg-reconfigure',
  'aptitude',
  'snap',
  'flatpak',
  'appimage',
  'alien',
  'yum',
  'dnf',
  'rpm',
  'zypper',
  'pacman',
  'yaourt',
  'yay',
  'makepkg',
  'abs',
  'aur',
  'brew',
  'port',
  'pkg',
  'emerge',
  'portage',
  'nix',
  'guix',
  'conda',
  'mamba',
  'micromamba',

  'top',
  'htop',
  'atop',
  'btop',
  'gtop',
  'gotop',
  'bashtop',
  'bpytop',
  'glances',
  'nmon',
  'sar',
  'iostat',
  'mpstat',
  'vmstat',
  'pidstat',
  'free',
  'uptime',
  'tload',
  'slabtop',
  'powertop',
  'iotop',
  'iftop',
  'nethogs',
  'bmon',
  'nload',
  'speedtest',
  'speedtest-cli',
  'fast',
  'mtr',
  'smokeping',

  'gpg',
  'gpg2',
  'openssl',
  'ssh-keygen',
  'ssh-keyscan',
  'ssl-cert',
  'certbot',
  'acme.sh',
  'mkcert',
  'step',
  'pass',
  'keepassxc-cli',
  'bitwarden',
  '1password',
  'hashcat',
  'john',
  'hydra',
  'ncrack',
  'medusa',
  'aircrack-ng',
  'chkrootkit',
  'rkhunter',
  'clamav',
  'clamscan',
  'freshclam',
  'aide',
  'tripwire',
  'samhain',
  'ossec',
  'wazuh',

  'bash',
  'sh',
  'zsh',
  'fish',
  'ksh',
  'tcsh',
  'csh',
  'dash',
  'ash',
  'elvish',
  'export',
  'alias',
  'unalias',
  'history',
  'fc',
  'source',
  'eval',
  'exec',
  'command',
  'builtin',
  'set',
  'unset',
  'env',
  'printenv',
  'echo',
  'printf',
  'read',
  'test',
  'expr',
  'let',

  'tar',
  'gzip',
  'gunzip',
  'bzip2',
  'bunzip2',
  'xz',
  'unxz',
  'lzma',
  'unlzma',
  'compress',
  'uncompress',
  'zip',
  'unzip',
  '7z',
  '7za',
  'rar',
  'unrar',
  'ar',
  'cpio',
  'pax',

  'ffmpeg',
  'ffplay',
  'ffprobe',
  'sox',
  'play',
  'rec',
  'mpg123',
  'mpg321',
  'ogg123',
  'flac',
  'lame',
  'oggenc',
  'opusenc',
  'convert',
  'mogrify',
  'identify',
  'display',
  'import',
  'animate',
  'montage',

  'bc',
  'dc',
  'calc',
  'qalc',
  'units',
  'factor',
  'primes',
  'seq',
  'shuf',
  'random',
  'octave',
  'maxima',
  'sage',
  'r',
  'julia',

  'man',
  'info',
  'help',
  'apropos',
  'whatis',
  'whereis',
  'which',
  'type',
  'command',
  'hash',
  'tldr',
  'cheat',
  'howdoi',
  'stackoverflow',
  'explainshell',

  'date',
  'cal',
  'ncal',
  'timedatectl',
  'zdump',
  'tzselect',
  'hwclock',
  'ntpdate',
  'chrony',
  'timeshift',
  'yes',
  'true',
  'false',
  'sleep',
  'usleep',
  'seq',
  'jot',
  'shuf',
  'tee',
  'xargs',
  'parallel',
  'rush',
  'dsh',
  'pssh',
  'clusterssh',
  'terminator',
  'tilix',
  'alacritty',
  'kitty',
  'wezterm',
] as const

export function getCommonSystemCommands(systemCommands: string[]): string[] {
  const systemSet = new Set(systemCommands.map(cmd => cmd.toLowerCase()))
  const commonIntersection = COMMON_UNIX_COMMANDS.filter(cmd =>
    systemSet.has(cmd.toLowerCase()),
  )
  return Array.from(new Set(commonIntersection))
}

export function getCommandPriority(command: string): number {
  const index = COMMON_UNIX_COMMANDS.indexOf(command.toLowerCase() as any)
  if (index === -1) return 0

  const maxScore = 100
  const score = maxScore - (index / COMMON_UNIX_COMMANDS.length) * maxScore
  return Math.round(score)
}

export function getEssentialCommands(): string[] {
  return [
    'ls',
    'cd',
    'pwd',
    'cat',
    'grep',
    'find',
    'which',
    'man',
    'cp',
    'mv',
    'rm',
    'mkdir',
    'touch',
    'chmod',
    'ps',
    'top',
    'kill',
    'git',
    'node',
    'npm',
    'python3',
    'curl',
    'wget',
    'docker',
    'vim',
    'nano',
    'echo',
    'export',
    'env',
    'sudo',
  ]
}

export function getMinimalFallbackCommands(): string[] {
  return [
    'ls',
    'cd',
    'pwd',
    'cat',
    'grep',
    'find',
    'git',
    'node',
    'npm',
    'python3',
    'vim',
    'nano',
  ]
}
